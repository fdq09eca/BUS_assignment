<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1421px" preserveAspectRatio="none" style="width:2582px;height:1421px;" version="1.1" viewBox="0 0 2582 1421" width="2582px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="347" x="1114" y="29.4023">Sequence Diagram - Risk Rating overlay</text><rect fill="#FFFFFF" height="111.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="41" y="129.6875"/><rect fill="#FFFFFF" height="1275.3535" style="stroke:#A80036;stroke-width:1.0;" width="10" x="179" y="129.6875"/><rect fill="#FFFFFF" height="1164.1113" style="stroke:#A80036;stroke-width:1.0;" width="10" x="595" y="240.9297"/><rect fill="#FFFFFF" height="1164.1113" style="stroke:#A80036;stroke-width:1.0;" width="10" x="902" y="240.9297"/><rect fill="#FFFFFF" height="291.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1173" y="542.3457"/><rect fill="#FFFFFF" height="161.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1173" y="951.3828"/><rect fill="#FFFFFF" height="110.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1633" y="980.6934"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1960" y="673.5879"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2113.5" y="614.9668"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2271.5" y="732.209"/><rect fill="#FFFFFF" height="109.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2405" y="403.793"/><rect fill="#FFFFFF" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="202.5" x="10" y="136.6875"/><rect fill="#FFFFFF" height="119.5527" style="stroke:#000000;stroke-width:2.0;" width="2017.5" x="547.5" y="349.8613"/><rect fill="#FFFFFF" height="88.9316" style="stroke:#000000;stroke-width:2.0;" width="872" x="1093" y="995.6934"/><rect fill="#FFFFFF" height="136.5527" style="stroke:#000000;stroke-width:2.0;" width="803.5" x="155.5" y="1260.4883"/><rect fill="#FFFFFF" height="60.6211" style="stroke:none;stroke-width:1.0;" width="803.5" x="155.5" y="1336.4199"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="183.5" x2="183.5" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="599.5" x2="599.5" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="907" x2="907" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1178" x2="1178" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1638" x2="1638" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1964.5" x2="1964.5" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2118.5" x2="2118.5" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2276.5" x2="2276.5" y1="119.6875" y2="1414.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2409.5" x2="2409.5" y1="119.6875" y2="1414.041"/><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="52" x="20" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="27" y="108.7344">Login</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="165.5" y="116.7344">User</text><ellipse cx="184" cy="50.1992" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M184,58.1992 L184,85.1992 M171,66.1992 L197,66.1992 M184,85.1992 L171,100.1992 M184,85.1992 L197,100.1992 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="85" x="557.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="564.5" y="108.7344">Local View</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="84" x="865" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="872" y="108.7344">AR Engine</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="150" x="1103" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="1110" y="108.7344">Overlay Information</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="90" x="1593" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1600" y="108.7344">Risk Rating</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="151" x="1889.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="1896.5" y="108.7344">COVID Data Handler</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="136" x="2050.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="2057.5" y="108.7344">Map Data Handler</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="160" x="2196.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="2203.5" y="108.7344">User Pins Moderation</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="87" x="2366.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="2373.5" y="108.7344">Navigation</text><rect fill="#FFFFFF" height="111.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="41" y="129.6875"/><rect fill="#FFFFFF" height="1275.3535" style="stroke:#A80036;stroke-width:1.0;" width="10" x="179" y="129.6875"/><rect fill="#FFFFFF" height="1164.1113" style="stroke:#A80036;stroke-width:1.0;" width="10" x="595" y="240.9297"/><rect fill="#FFFFFF" height="1164.1113" style="stroke:#A80036;stroke-width:1.0;" width="10" x="902" y="240.9297"/><rect fill="#FFFFFF" height="291.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1173" y="542.3457"/><rect fill="#FFFFFF" height="161.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1173" y="951.3828"/><rect fill="#FFFFFF" height="110.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1633" y="980.6934"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1960" y="673.5879"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2113.5" y="614.9668"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2271.5" y="732.209"/><rect fill="#FFFFFF" height="109.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2405" y="403.793"/><path d="M10,136.6875 L72,136.6875 L72,143.6875 L62,153.6875 L10,153.6875 L10,136.6875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="202.5" x="10" y="136.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="25" y="150.2559">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="87" y="149.3223">[new user]</text><polygon fill="#A80036" points="62,171.3086,52,175.3086,62,179.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56" x2="178" y1="175.3086" y2="175.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="89.5" y="170.5664">Register</text><polygon fill="#A80036" points="167,200.6191,177,204.6191,167,208.6191" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="173" y1="204.6191" y2="204.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="63" y="199.877">Account Created</text><polygon fill="#A80036" points="57,236.9297,47,240.9297,57,244.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="178" y1="240.9297" y2="240.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="81.5" y="236.1875">Autologin</text><polygon fill="#A80036" points="583,266.2402,593,270.2402,583,274.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="189" x2="589" y1="270.2402" y2="270.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="354" y="265.498">default view</text><path d="M25,283.2402 L25,308.2402 L343,308.2402 L343,293.2402 L333,283.2402 L25,283.2402 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M333,283.2402 L333,293.2402 L343,293.2402 L333,283.2402 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="31" y="300.8086">Assume User has given the camera permission.</text><polygon fill="#A80036" points="1166,330.8613,1176,334.8613,1166,338.8613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="605" x2="1172" y1="334.8613" y2="334.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="764" y="330.1191">request surrounding overlay information</text><path d="M547.5,349.8613 L621.5,349.8613 L621.5,356.8613 L611.5,366.8613 L547.5,366.8613 L547.5,349.8613 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="119.5527" style="stroke:#000000;stroke-width:2.0;" width="2017.5" x="547.5" y="349.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="562.5" y="363.4297">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="226" x="636.5" y="362.4961">[while request device GPSPostion failed]</text><polygon fill="#A80036" points="2393,399.793,2403,403.793,2393,407.793" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="605" x2="2399" y1="403.793" y2="403.793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="1476.5" y="383.7402">request's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1450" y="399.0508">device GPSPostion</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2415" x2="2457" y1="448.4141" y2="448.4141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2457" x2="2457" y1="448.4141" y2="461.4141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2416" x2="2457" y1="461.4141" y2="461.4141"/><polygon fill="#A80036" points="2426,457.4141,2416,461.4141,2426,465.4141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="2422" y="428.3613">get device's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="2426" y="443.6719">current GPS Position</text><polygon fill="#A80036" points="616,509.0352,606,513.0352,616,517.0352" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="2409" y1="513.0352" y2="513.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="1461.5" y="492.9824">return device's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1446" y="508.293">current GPS Position</text><polygon fill="#A80036" points="1161,538.3457,1171,542.3457,1161,546.3457" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="605" x2="1167" y1="542.3457" y2="542.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="802" y="537.6035">request overlay information</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2575" x="0" y="571.001"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2575" y1="571.001" y2="571.001"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2575" y1="574.001" y2="574.001"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="264" x="1155.5" y="560.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="1161.5" y="576.9141">Start requesting overlay information</text><polygon fill="#A80036" points="2101.5,610.9668,2111.5,614.9668,2101.5,618.9668" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1183" x2="2107.5" y1="614.9668" y2="614.9668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1567.25" y="610.2246">requestData(GPS Position)</text><polygon fill="#A80036" points="1194,640.2773,1184,644.2773,1194,648.2773" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1188" x2="2117.5" y1="644.2773" y2="644.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="1580.25" y="639.5352">MapData(GPS Position)</text><polygon fill="#A80036" points="1948,669.5879,1958,673.5879,1948,677.5879" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1183" x2="1954" y1="673.5879" y2="673.5879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="1494" y="668.8457">requestData(GPSpostion)</text><polygon fill="#A80036" points="1194,698.8984,1184,702.8984,1194,706.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1188" x2="1964" y1="702.8984" y2="702.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="1481" y="698.1563">return CovidData(GPSpostion)</text><polygon fill="#A80036" points="2259.5,728.209,2269.5,732.209,2259.5,736.209" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1183" x2="2265.5" y1="732.209" y2="732.209"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="1617.25" y="727.4668">request UserPinsFeed(GPS Position)</text><polygon fill="#A80036" points="1194,757.5195,1184,761.5195,1194,765.5195" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1188" x2="2275.5" y1="761.5195" y2="761.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="1591.25" y="756.7773">return ModeratedUserPinsFeed(GPS Position)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2575" x="0" y="790.1748"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2575" y1="790.1748" y2="790.1748"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2575" y1="793.1748" y2="793.1748"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="273" x="1151" y="779.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="1157" y="796.0879">Finish requesting overlay information</text><polygon fill="#A80036" points="923,830.1406,913,834.1406,923,838.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="917" x2="1177" y1="834.1406" y2="834.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="926.5" y="829.3984">overlay surrounding information Data</text><polygon fill="#A80036" points="616,859.4512,606,863.4512,616,867.4512" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="901" y1="863.4512" y2="863.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="666.5" y="858.709">generate overlay AR objects</text><polygon fill="#A80036" points="200,888.7617,190,892.7617,200,896.7617" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="194" x2="594" y1="892.7617" y2="892.7617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="266" y="888.0195">display overlay information and buttons</text><polygon fill="#A80036" points="583,918.0723,593,922.0723,583,926.0723" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="189" x2="589" y1="922.0723" y2="922.0723"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="278.5" y="917.3301">select COVID-19 Risk Rating button</text><polygon fill="#A80036" points="1161,947.3828,1171,951.3828,1161,955.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="605" x2="1167" y1="951.3828" y2="951.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="777" y="946.6406">request COVID-19 Risk Rating Data</text><polygon fill="#A80036" points="1621,976.6934,1631,980.6934,1621,984.6934" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1183" x2="1627" y1="980.6934" y2="980.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="1192.5" y="975.9512">request COVID-19 Risk Rating Data with current device GPS position</text><path d="M1093,995.6934 L1167,995.6934 L1167,1002.6934 L1157,1012.6934 L1093,1012.6934 L1093,995.6934 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="88.9316" style="stroke:#000000;stroke-width:2.0;" width="872" x="1093" y="995.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="1108" y="1009.2617">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="1182" y="1008.3281">[for each non-residential buildings]</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1643" x2="1685" y1="1034.3145" y2="1034.3145"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1685" x2="1685" y1="1034.3145" y2="1047.3145"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1644" x2="1685" y1="1047.3145" y2="1047.3145"/><polygon fill="#A80036" points="1654,1043.3145,1644,1047.3145,1654,1051.3145" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="1650" y="1029.5723">calculateRiskRating(current device GPS position)</text><polygon fill="#A80036" points="1194,1072.625,1184,1076.625,1194,1080.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1188" x2="1632" y1="1076.625" y2="1076.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="1313" y="1071.8828">return GeoData with risk rated</text><polygon fill="#A80036" points="923,1108.9355,913,1112.9355,923,1116.9355" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="917" x2="1177" y1="1112.9355" y2="1112.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="936.5" y="1108.1934">return a list of risk rated buildings</text><polygon fill="#A80036" points="616,1153.5566,606,1157.5566,616,1161.5566" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="901" y1="1157.5566" y2="1157.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="654" y="1137.5039">load risk rated to the buildings</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="624.5" y="1152.8145">that are within device camera (AR Object)</text><polygon fill="#A80036" points="200,1182.8672,190,1186.8672,200,1190.8672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="194" x2="594" y1="1186.8672" y2="1186.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="382" x="201" y="1182.125">ready display surrounding risk rate throught device's camera</text><polygon fill="#A80036" points="583,1212.1777,593,1216.1777,583,1220.1777" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="189" x2="589" y1="1216.1777" y2="1216.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="257.5" y="1211.4355">move camera towards target i.e. restaurant</text><polygon fill="#A80036" points="890,1241.4883,900,1245.4883,890,1249.4883" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="605" x2="896" y1="1245.4883" y2="1245.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="617" y="1240.7461">request target risk rate with target GeoData</text><path d="M155.5,1260.4883 L217.5,1260.4883 L217.5,1267.4883 L207.5,1277.4883 L155.5,1277.4883 L155.5,1260.4883 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="136.5527" style="stroke:#000000;stroke-width:2.0;" width="803.5" x="155.5" y="1260.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="170.5" y="1274.0566">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="232.5" y="1273.123">[if restaruent risk rate available]</text><polygon fill="#A80036" points="616,1295.1094,606,1299.1094,616,1303.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="901" y1="1299.1094" y2="1299.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="638" y="1294.3672">overlay target risk rate on the screen</text><polygon fill="#A80036" points="200,1324.4199,190,1328.4199,200,1332.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="194" x2="594" y1="1328.4199" y2="1328.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="253.5" y="1323.6777">display target risk rate as AR retreived value</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="155.5" x2="959" y1="1337.4199" y2="1337.4199"/><polygon fill="#A80036" points="616,1355.7305,606,1359.7305,616,1363.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="901" y1="1359.7305" y2="1359.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="720.5" y="1354.9883">return null</text><polygon fill="#A80036" points="200,1385.041,190,1389.041,200,1393.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="194" x2="594" y1="1389.041" y2="1389.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="275.5" y="1384.2988">display target risk rate as "Unknown"</text><!--MD5=[026af83f631510965b2b4e2ca38bedef]
@startuml BUS-B7-sqDia2
skinparam Style strictuml
skinparam SequenceMessageAlignment center

title
    Sequence Diagram - Risk Rating overlay
end title

hide unlinked
participant "Notification"
participant "Login"
actor "User"
participant "Local View"
participant "AR Engine"
participant "Global View"
participant "Overlay Information"
participant "Risk Rating"
participant "COVID Data Handler"
participant "Map Data Handler"
participant "User Pins Moderation"


activate User
activate Login
alt new user
    User -> Login: Register
    Login - -> User: Account Created
end 

User - -> Login: Autologin

deactivate Login
activate "Local View"
activate "AR Engine"
User -> "Local View": default view
note over User: Assume User has given the camera permission.
"Local View" -> "Overlay Information": request surrounding overlay information
loop while request device GPSPostion failed
    "Local View" -> "Navigation": request's\n device GPSPostion
    activate "Navigation"
    "Navigation" -> "Navigation": get device's\n current GPS Position 
end
"Navigation" - -> "Local View": return device's\n current GPS Position
deactivate "Navigation"


"Local View" -> "Overlay Information": request overlay information
activate "Overlay Information"

== Start requesting overlay information ==
"Overlay Information" -> "Map Data Handler": requestData(GPS Position)
activate "Map Data Handler"
"Map Data Handler" - -> "Overlay Information": MapData(GPS Position)
deactivate "Map Data Handler"

"Overlay Information" -> "COVID Data Handler": requestData(GPSpostion)
activate "COVID Data Handler"
"COVID Data Handler" - -> "Overlay Information": return CovidData(GPSpostion)
deactivate "COVID Data Handler"

"Overlay Information" -> "User Pins Moderation": request UserPinsFeed(GPS Position)
activate "User Pins Moderation"
"User Pins Moderation" - -> "Overlay Information": return ModeratedUserPinsFeed(GPS Position)
deactivate "User Pins Moderation"
== Finish requesting overlay information ==

"Overlay Information" - -> "AR Engine": overlay surrounding information Data
deactivate "Overlay Information"
"AR Engine" - -> "Local View": generate overlay AR objects
"Local View" - -> "User": display overlay information and buttons

"User" -> "Local View": select COVID-19 Risk Rating button
"Local View" -> "Overlay Information": request COVID-19 Risk Rating Data
activate "Overlay Information"
"Overlay Information"  -> "Risk Rating": request COVID-19 Risk Rating Data with current device GPS position
activate "Risk Rating"
loop for each non-residential buildings
    "Risk Rating" - -> "Risk Rating": calculateRiskRating(current device GPS position)
    "Risk Rating" - -> "Overlay Information": return GeoData with risk rated 
end
deactivate "Risk Rating"
"Overlay Information" - -> "AR Engine": return a list of risk rated buildings
deactivate "Overlay Information"
"AR Engine" - -> "Local View": load risk rated to the buildings \nthat are within device camera (AR Object)
"Local View" - -> "User": ready display surrounding risk rate throught device's camera

"User" -> "Local View": move camera towards target i.e. restaurant 
"Local View" -> "AR Engine": request target risk rate with target GeoData

alt if restaruent risk rate available
    "AR Engine" - -> "Local View": overlay target risk rate on the screen
    "Local View" - -> "User": display target risk rate as AR retreived value
else
    "AR Engine" - -> "Local View": return null
    "Local View" - -> "User": display target risk rate as "Unknown"
end alt

@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: HK
--></g></svg>